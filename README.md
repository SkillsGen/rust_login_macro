This is just a basic demonstration of how you can use proc_macro to add code to the beginning of any function.
i'm using actix with a basic session struct and  adding code to check if the user is logged in to the beginning of any endpoint function prepended with #[requires_login]